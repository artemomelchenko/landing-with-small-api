var WheelIndicator=function(t,e){var i="onwheel"in e?"wheel":"mousewheel",n={callback:function(){},elem:e,preventMouse:!0};function r(e){this._options=s(n,e),this._deltaArray=[0,0,0],this._isAcceleration=!1,this._isStopped=!0,this._direction="",this._timer="",this._isWorking=!0;var r,h,l,c=this;this._wheelHandler=function(e){var i;c._isWorking&&(function(t){var e=this,i=a(t);if(0===i)return;var n,r=i>0?"down":"up",s=e._deltaArray.length,h=!1,l=0;for(clearTimeout(e._timer),e._timer=setTimeout(function(){e._deltaArray=[0,0,0],e._isStopped=!0,e._direction=r},150),n=0;n<s;n++)0!==e._deltaArray[n]&&(e._deltaArray[n]>0?++l:--l);Math.abs(l)===s&&(l>0?"down":"up")!==e._direction&&(h=!0,e._direction=r);e._isStopped||(h?(e._isAcceleration=!0,o.call(this,t)):Math.abs(l)===s&&function(t){var e=Math.abs(this._deltaArray[0]),i=Math.abs(this._deltaArray[1]),n=Math.abs(this._deltaArray[2]),r=Math.abs(a(t));r>n&&n>i&&i>e&&(this._isAcceleration||(o.call(this,t),this._isAcceleration=!0));r<n&&n<=i&&(this._isAcceleration=!1)}.call(this,t));e._isStopped&&(e._isStopped=!1,e._isAcceleration=!0,e._direction=r,o.call(this,t));e._deltaArray.shift(),e._deltaArray.push(i)}.call(c,e),c._options.preventMouse&&((i=(i=e)||t.event).preventDefault?i.preventDefault():i.returnValue=!1))},r=this._options.elem,h=i,l=this._wheelHandler,r.addEventListener?r.addEventListener(h,l,!1):r.attachEvent&&r.attachEvent("on"+h,l)}function o(t){t.direction=this._direction,this._options.callback.call(this,t)}r.prototype={constructor:r,turnOn:function(){return this._isWorking=!0,this},turnOff:function(){return this._isWorking=!1,this},setOptions:function(t){return this._options=s(this._options,t),this},getOption:function(t){var e=this._options[t];if(void 0!==e)return e;throw new Error("Unknown option")},destroy:function(){var t,e,n;return t=this._options.elem,e=i,n=this._wheelHandler,t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n),this}};var a=function(t){return(a=t.wheelDelta&&!t.deltaY?function(t){return-1*t.wheelDelta}:function(t){return t.deltaY})(t)};function s(t,e){var i,n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}return r}(window,document);"object"==typeof exports&&(module.exports=WheelIndicator);